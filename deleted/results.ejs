<!DOCTYPE html>
<html lang="en-US">
<body style="background-color: darkturquoise;">
    <div style="background-color:white; margin-left:20%;padding-left:20px; margin-right: 20%; width: auto; display: block; overflow: auto;    overflow-y:hidden;">
<h1>Thanks for voting</h1>
  
<h4>
  Here are the results of this poll
      </h4>

  <h2> Title of Poll: <%= titleOfPoll %></h2>
  <h3 style="underline: true;">Results</h3>

<div id="piechart" style="margin-left: 80px; margin-top: -50px; border: max-width: 50%"></div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable([
['Choice', 'Votes'],

<%  for(var i = 0; i< pollVotes.length; i++){ %>
['<%=votingOptions[i]%>', <%=pollVotes[i]%>]
 <%if(i != pollVotes.length - 1 ){%>,<%}%>
                          <%        } %>

]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'<% titleOfPoll %>', 'width':700, 'height':700};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.PieChart(document.getElementById('piechart'));
  chart.draw(data, options);
}
</script>
</div>
</body>
</html>
